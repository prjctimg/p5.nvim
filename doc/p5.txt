*p5.txt*    p5.js Development Plugin for Neovim

==============================================================================
CONTENTS                                        *p5-contents*

1. Introduction |p5-introduction|
2. Requirements |p5-requirements|
3. Installation |p5-installation|
4. Configuration |p5-configuration|
5. Commands |p5-commands|
6. Project Creation |p5-project-creation|
7. Library Management |p5-library-management|
8. Development Server |p5-development-server|
9. Browser Console |p5-browser-console|
10. GitHub Gist Integration |p5-gist-integration|
11. Troubleshooting |p5-troubleshooting|
12. Contributing |p5-contributing|

==============================================================================
1. INTRODUCTION                                            *p5-introduction*

p5.nvim is a comprehensive Neovim plugin for p5.js development with
offline capabilities, library management, live server, and browser console
streaming.

Features:
â€¢ ðŸ”„ Offline-First: Core p5.js libraries bundled for complete offline development
â€¢ ðŸ“¦ Smart Caching: Contributor libraries cached locally after first download
â€¢ ðŸŽ¯ Multi-Selection: Interactive UI for selecting multiple libraries
â€¢ ðŸ“‹ Version Selection: Choose between p5.js 1.9.x (legacy) and 2.x.x (latest)
â€¢ ðŸ“š In-editor documentation: Manpages available via |:help|
â€¢ âš¡ Zero Network Dependency: Create projects anywhere, anytime

==============================================================================
2. REQUIREMENTS                                        *p5-requirements*

- Neovim >= 0.11.0
- `curl` (for contributor library downloads)
- `python3` (for development server)
- `git` (for version control)
- Optional: `gh` (GitHub CLI) for gist integration
- Optional: `live-server` for enhanced development server
- Optional: `nui.nvim` for enhanced UI components
- Optional: `plenary.nvim` for additional utilities

==============================================================================
3. INSTALLATION                                        *p5-installation*

Using lazy.nvim:
>
    {
      'prjctimg/p5.nvim',
      config = function()
        require('p5').setup()
      end
    }
<

Using packer.nvim:
>
    use {
      'prjctimg/p5.nvim',
      config = function()
        require('p5').setup()
      end
    }
<

Using vim-plug:
>
    Plug 'prjctimg/p5.nvim'
    lua require('p5').setup()
<

==============================================================================
4. CONFIGURATION                                        *p5-configuration*

Setup function with default options:
>
    require('p5').setup({
      port = 8000,                    -- Server port
      default_version = "2.2.0",      -- Default p5.js version
      server_type = "auto",           -- auto, live-server, python, static
      libraries = {                   -- Default library selection
        sound = true,
        dom = false,
        ml5 = false,
        collide2d = false
      },
      auto_open = true,               -- Auto-open browser on server start
      cache_dir = "~/.local/share/nvim/p5.nvim",
      console_log = true,
      statusline = {
        enabled = true,
        component = "p5"
      }
    })
<

Configuration Options:
â€¢ port (number): Development server port (default: 8000)
â€¢ default_version (string): Default p5.js version (default: "2.2.0")
â€¢ server_type (string): Server type - "auto", "live-server", "python", "static"
â€¢ libraries (table): Default library configuration
â€¢ auto_open (boolean): Auto-open browser when server starts
â€¢ cache_dir (string): Directory for cached libraries
â€¢ console_log (boolean): Enable browser console logging
â€¢ statusline (table): Statusline configuration

==============================================================================
5. COMMANDS                                                *p5-commands*

|:P5Create|        Create a new p5.js project
|:P5Download|      Download and manage p5.js libraries
|:P5ListLibs|     List available p5.js libraries
|:P5Server|        Start p5.js development server
|:P5Stop|          Stop development server
|:P5Console|       Toggle browser console logging
|:P5Gist|         Push current sketch to GitHub Gist
|:P5UpdateLibs|   Update all p5.js libraries

==============================================================================
6. PROJECT CREATION                                  *p5-project-creation*

Creating a New Project:                              *:P5Create*

    :P5Create

This command will:
1. Prompt for project name (default: "sketch")
2. Show template selection (Basic, Particles, Animation)
3. Create project structure with bundled p5.js libraries
4. Generate index.html, style.css, sketch.js, and README.md
5. Optionally open the project in Neovim

Project Structure:
>
    your-sketch/
    â”œâ”€â”€ lib/
    â”‚ â”œâ”€â”€ p5.js              # Core library (bundled)
    â”‚ â””â”€â”€ p5.sound.js        # Sound addon (if enabled)
    â”œâ”€â”€ index.html             # Auto-generated HTML
    â”œâ”€â”€ style.css             # Sketch styles
    â”œâ”€â”€ sketch.js             # Your p5.js code
    â””â”€â”€ README.md             # Project documentation
<

Available Templates:
â€¢ Basic: Simple p5.js sketch with basic functionality
â€¢ Particles: Interactive particle system with mouse interaction
â€¢ Animation: Animated patterns and rotating shapes

==============================================================================
7. LIBRARY MANAGEMENT                            *p5-library-management*

Available Libraries:                                   *:P5ListLibs*

Core Libraries (bundled):
â€¢ sound: p5.sound.js - Sound synthesis and analysis

Contributor Libraries:
â€¢ ml5: ml5.js - Friendly machine learning
â€¢ collide2d: p5.collide2d - 2D collision detection
â€¢ chart: p5.chart - Data visualization and charting
â€¢ createrLoop: p5.createLoop - Animation loop helper
â€¢ fillerGradient: p5.fillGradient - Gradient fills
â€¢ brush: p5.brush - Custom brushes and effects
â€¢ chroma: p5.chroma - Advanced color manipulation
â€¢ geolocation: p5.geolocation - Geolocation services
â€¢ webmidi: WEBMIDI.js - MIDI communication
â€¢ party: p5.party - Multiplayer networking

Downloading Libraries:                                *:P5Download*

    :P5Download

This will show an interactive multi-select menu where you can:
â€¢ Browse libraries by category
â€¢ Select multiple libraries with Space/Enter
â€¢ Confirm selection to download and add to project

Downloaded libraries are cached locally in `~/.local/share/nvim/p5.nvim/libraries/`
for offline use.

==============================================================================
8. DEVELOPMENT SERVER                              *p5-development-server*

Starting the Server:                                   *:P5Server*

    :P5Server

The server auto-detects the best available option:
1. live-server (if installed) - Live reload with WebSocket
2. python3 - Simple HTTP server
3. static - Fallback mode

Server Features:
â€¢ Auto-detects server type
â€¢ Live reload (with live-server)
â€¢ CORS enabled for development
â€¢ Auto-opens browser (configurable)
â€¢ Statusline integration

Stopping the Server:                                     *:P5Stop*

    :P5Stop

==============================================================================
9. BROWSER CONSOLE                                   *p5-browser-console*

Browser console logging captures console.log(), console.warn(), and console.error()
from your p5.js sketches and displays them in Neovim.

Toggle Console Logging:                                 *:P5Console*

    :P5Console

This requires the enhanced Python server with WebSocket support. Console logs are
captured via WebSocket and displayed in real-time.

Console Features:
â€¢ Real-time log streaming
â€¢ Log level filtering
â€¢ Timestamp support
â€¢ Error highlighting

==============================================================================
10. GITHUB GIST INTEGRATION                     *p5-gist-integration*

Pushing to Gist:                                         *:P5Gist*

    :P5Gist

This command will:
1. Check for GitHub CLI (gh) installation
2. Collect project files (sketch.js, index.html, style.css, etc.)
3. Prompt for gist description
4. Create public gist using gh CLI
5. Copy gist URL to clipboard
6. Optionally open gist in browser

Requirements:
â€¢ GitHub CLI (gh) must be installed and authenticated
â€¢ Must be in a p5.js project directory

Listing Recent Gists:
>
    :lua require('p5.gist.push').list_gists()
<

==============================================================================
11. TROUBLESHOOTING                              *p5-troubleshooting*

Common Issues:

Server won't start:
â€¢ Check if port is already in use
â€¢ Verify python3 is installed
â€¢ For live-server, install with: `npm install -g live-server`

Libraries not downloading:
â€¢ Check internet connection
â€¢ Verify curl is installed
â€¢ Check GitHub Actions asset updates

Browser console not working:
â€¢ Use enhanced Python server (default in auto mode)
â€¢ Install websocket-server: `pip install websocket-server`
â€¢ Check browser console for WebSocket errors

Gist creation fails:
â€¢ Install GitHub CLI: https://cli.github.com/
â€¢ Authenticate: `gh auth login`
â€¢ Check gh CLI version

Plugin not loading:
â€¢ Check Neovim version >= 0.11.0
â€¢ Verify plugin manager installation
â€¢ Check runtimepath includes plugin directory

==============================================================================
12. CONTRIBUTING                                    *p5-contributing*

Development Setup:
1. Clone the repository
2. Install dependencies: `pip install websocket-server`
3. Run tests: `nvim --headless -c "luafile test_phase1.lua"`
4. Update assets: `./scripts/update-assets.sh`

Project Structure:
>
    p5.nvim/
    â”œâ”€â”€ lua/p5/              # Main plugin code
    â”‚   â”œâ”€â”€ init.lua         # Plugin entry point
    â”‚   â”œâ”€â”€ config.lua       # Configuration management
    â”‚   â”œâ”€â”€ ui/              # UI components
    â”‚   â”œâ”€â”€ server/          # Development server
    â”‚   â”œâ”€â”€ project/         # Project creation
    â”‚   â”œâ”€â”€ libraries/       # Library management
    â”‚   â”œâ”€â”€ console/         # Browser console
    â”‚   â””â”€â”€ gist/           # GitHub Gist
    â”œâ”€â”€ plugin/p5.lua        # Plugin loader
    â”œâ”€â”€ assets/              # Bundled p5.js assets
    â”œâ”€â”€ scripts/             # Asset management scripts
    â””â”€â”€ doc/p5.txt         # Help documentation
<

Contributing Guidelines:
â€¢ Follow existing code style and patterns
â€¢ Add tests for new features
â€¢ Update documentation
â€¢ Use conventional commits
â€¢ Ensure all tests pass

License:
GPL-3.0 License - see LICENSE file for details.

==============================================================================
vim:tw=78:ts=8:ft=help:norl: